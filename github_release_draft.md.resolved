# Duty-Agent v0.30-Beta (Preview)

**⚠️ 重要提醒：这是一次早期的 Beta 测试版发布，暂不上架 ClassIsland 插件市场。**

由于 Duty-Agent 首创了将 LLM 大语言模型与 Python 兜底代码结合的“混合排班架构”，目前本插件**仍处于真实的生产环境测试阶段**，以验证调度逻辑的长期稳定性和极端边缘场景处理。

### 为什么暂时不在插件市场发布？
1. **配置格式不稳定**：在后续的测试中，底层配置项和缓存结构（如 `config.json` 和 `state.json`）可能还会发生破坏性变更（Breaking Changes）。提前安装的早期用户，在未来版本更新时可能需要**完全重新配置**参数。
2. **需要高级排错能力**：本次版本大量依赖您自行提供的大模型 API 接口，若出现网络波动或 Token 限制，需要使用者具备一定的手动抓包排错或查阅日志的能力。

### 本次更新 (v0.30-Beta) 的核心亮点
- **UI/UX 全面重构**：采用全新的 Fluent Design 网格卡片布局，排班预览编辑器已化繁为简。
- **自动纠错与鲁棒性**：极大增强了手工填报的兼容性，能自动处理全角符号、多余空格甚至隐形字符，防止误触。
- **Structural Debt 机制**：代码级别的请假补偿保护兜底，防止 LLM 因短暂停顿造成的排班遗漏。
- **完整的主从分离隔离**：通过 Standard IO 进行全量数据交互，核心代码全隔离于 `core.py`，守护 API Key 的内存零落地。

### 如何安装？
1. 下载本页面的 `Duty-Agent.cipx` 文件。
2. 在 ClassIsland 的 **“应用设置 -> 插件”** 页面中，点击右上角的 **“从文件安装应用...”** 以导入此包。
3. 如果您曾安装过旧版应用，安装后请**务必重启 ClassIsland** 使新的 `core.py` 和内部通信协议生效。

*欢迎各位早期测试者在 Issues 区反馈任何 UI 崩塌、逻辑幻觉或体验建议！*
